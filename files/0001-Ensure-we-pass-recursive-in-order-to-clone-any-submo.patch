From c000dd20c53a472afe27986cd76167be273ffe6e Mon Sep 17 00:00:00 2001
From: Joshua Strobl <joshua@stroblindustries.com>
Date: Wed, 29 Mar 2017 14:05:29 +0300
Subject: [PATCH 1/1] Ensure we pass recursive in order to clone any submodules
 of other submodules.

---
 src/builder/source/git.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/builder/source/git.go b/src/builder/source/git.go
index db1323c..4b5c8df 100644
--- a/src/builder/source/git.go
+++ b/src/builder/source/git.go
@@ -256,7 +256,7 @@ func (g *GitSource) resetOnto(repo *git.Repository, ref string) error {
 // reset has taken place.
 func (g *GitSource) submodules() error {
 	// IDK What else to tell ya, git2go submodules is broken
-	cmd := []string{"submodule", "update", "--init"}
+	cmd := []string{"submodule", "update", "--init", "--recursive"}
 	return commands.ExecStdoutArgsDir(g.ClonePath, "git", cmd)
 }
 
-- 
2.12.2

